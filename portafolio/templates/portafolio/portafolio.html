<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Regina Falange</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet"> 
    </head>
    <style>
        *{
            font-family: 'Raleway', sans-serif;
        }
        body{
            background: #f1f1f1;
        }
        .nbar{
            display: flex;
            align-items: center;
            flex-direction: row;
            padding-left: 1rem;
            background: black;
            height: 3.5em;
        }
        .nbar > div{
            flex: 0 0 auto;
            margin-right: 1rem;
            width: auto;
        }
        .nbar > div > a{
            padding-top: 3px;
            padding-bottom: 3px;
            padding-right: 8px;
            padding-left: 8px;
            color: gray;
            text-decoration: none;
            outline: none;
        }
        .nombre{
            color: #ffffff; font-size: 2em;
        }
        .select{
            border: solid white 2px;
            border-radius: 10% 30% 10% 30% / 24% 100% 24% 100%;
            color: white !important;
        }
        footer{
            background: #000;
            color: white !important;
            padding-top: 10px;
            height: 50px;
            width: 100%;
            text-align: center;
        }
        .contenedor{
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .sobre-mi{
            width: 90%; 
            margin: auto; 
            padding: .5rem; 
            background: #616161; 
            color: white;
        }
        .skill{
            display: flex;
            flex-direction: row; 
            flex-wrap: wrap;
            align-items: center; 
            justify-content: space-between;
            text-align: center;
        }
        .skill > div{
            flex: 0 0 auto; 
            padding: 1rem; 
            background: #000;
        }
        .skill > div > div{width: 350px; height: 1.5rem; background: white; border-radius: 1rem;}
        .skill > div > div > div{height: 1.5rem; background: grey; border-radius: 1rem;}
        
    </style>
    <body>
        <div style="padding: 0px; position: sticky; top: 0; z-index: 100; background: black;">
            <nav class="nbar">
                <div class="nombre">Regina Falange</div>
                <div><a onmousedown="limpiar()" onmouseup="select(this.id)" id="portafolio" href="#portfolio">Portfolio</a></div>
                <div><a onmousedown="limpiar()" onmouseup="select(this.id)" id="sobre-mi" href="#about">About</a></div>
                <div><a onmousedown="limpiar()" onmouseup="select(this.id)" id="contacto" href="#contact">Contact</a></div>
            </nav>
        </div>

        <!--PORTAFOLIO-->
        <div id="portfolio" style="background: black;" onload="mostrar(this.id)">
            <div id="carouselExampleCaptions" style="width: 90%; margin-left: auto; margin-right: auto;" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators" style="z-index: 2 !important;">
                  <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active" style="z-index: 2 !important;"></li>
                  <li data-target="#carouselExampleCaptions" data-slide-to="1" style="z-index: 2 !important;"></li>
                  <li data-target="#carouselExampleCaptions" data-slide-to="2" style="z-index: 2 !important;"></li>
                </ol>
                <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div style="display: flex; flex-direction: row; height: 560px; overflow: hidden;">
                                    <img src={{principal.imagen.url}} class="d-block w-100" alt="...">
                                </div>
                            </div>
                        
                            <div class="carousel-item">
                                <div style="display: flex; flex-direction: row; height: 560px; overflow: hidden;">
                                    {% for imagen in galeria %}
                                        <img src={{imagen.imagen.url}} style="width: 33.33%;" class="d-block" alt="...">
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div style="display: flex; flex-direction: row; height: 560px; overflow: hidden;">
                                    {% for imagen2 in galeria2 %}
                                        <img src={{imagen2.imagen.url}} style="width: 33.33%;" class="d-block" alt="...">
                                    {% endfor %}
                                </div>
                            </div>
                        
                    
                    

                </div>
                <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
        </div>

        <!-- SOBRE MI -->
        <div id="about" style="background: #616161; padding-bottom: 1rem;">
            <div class="sobre-mi">
                <h2 style="text-align: center; margin-top: 2rem; margin-bottom: 2rem;">About Me</h2>
                <div style="clear: right; overflow: auto; margin: .5rem; padding-bottom: 1rem; border-bottom: solid white 1px;">
                    <div style="float: left; margin-right: 1rem;">
                        <img src="{{perfil.imagen.url}}" width="260px" height="320px" >
                    </div>
                    <div >
                        <h3>Regina Falange</h3>
                        <p style="text-align: justify; margin-top: 1rem;">Some text about me. I love taking photos of PEOPLE. I am lorem ipsum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
                        <p style="margin-top: 1rem;">mail: example@example.com</p>
                        <p style="margin-top: 1rem;">tel: 5353 35531</p>
                    </div>
                </div>
                <div style="margin: 1rem .5rem;">
                    <h3>Technical Skills</h3>
                    <div class="skill">
    
                        <div>
                            <h4>Photography</h4>
                            <div>
                                <div style="width: 95%;">95%</div>
                            </div>
                        </div>
    
                        <div>
                            <h4>Web Design</h4>
                            <div>
                                <div style="width: 85%;">85%</div>
                            </div>
                        </div> 
    
                        <div>
                            <h4>Photoshop</h4>
                            <div>
                                <div style="width: 80%">80%</div>
                            </div>
                        </div> 
                    </div>
                </div>
            </div>
        </div>

        <!--CONTACTO-->
        <div id="contact" style="background: white; padding-bottom: 3rem;">
            <div class="contact" style="display: flex; flex-direction: column; align-items: center; width: 60%; margin: auto; text-align: justify;">
                <h2 style="text-align: center; margin-top: 2rem;">Contact Me</h2>
                <p style="padding-bottom: 1rem;">Do you want me to photograph you? Fill out the form and fill me in with the details :) I love meeting new people!</p>
                <form name="formulario" action="/envio/" method="post" style="width: 100%;">
                    <!--{% csrf_token %}-->
                    <label for="nombre">Name</label>
                    <div><input name="nombre" id="nombre" type="text" style="width: 100%; border: solid black 1.5px; margin-top: 0px; margin-bottom: 1rem;" ></div>
                    <label for="email">E-mail</label>
                    <div><input name="email" id="email" type="text" style="width: 100%; border: solid black 1.5px; margin-top: 0px; margin-bottom: 1rem;"></div>
                    <label for="mensaje">Message</label>
                    <textarea name="mensaje" id="mensaje" cols="30" rows="10"style="width: 100%; height: 6em; border: solid black 1.5px; margin-top: 0px; margin-bottom: 1rem;" ></textarea>
                    <div><input type="submit" style="width: 100%; margin-top: 0px; margin-bottom: 1rem; border: none; outline: none; background: black; color: white;" value="Send" ></div>
                </form>
            </div>
            

        </div>

        <footer><p>Created by <a href="#" style="color: white;"><u>Nicolas E. Berdu</u></a></p></footer>
    </body>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script>
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        const csrftoken = getCookie('csrftoken');



        function mostrar(id){
            id.style.display = "block";
        }
        function limpiar(){
            console.log();
            var elemento = document.getElementById("portafolio");
            elemento.className = "";
            var elemento = document.getElementById("sobre-mi");
            elemento.className = "";
            var elemento = document.getElementById("contacto");
            elemento.className = "";
        }
        function select(id){
            var elemento = document.getElementById(id);
            elemento.className = "select";
        }
        

        function sendserver(mensaje, nombre, email){
            var portal = new XMLHttpRequest();
            portal.open("POST", "/envio/", true);        
            portal.setRequestHeader("X-CSRFToken", csrftoken);
            

            portal.onload = function(){
                var estado_d_envio = JSON.parse(this.responseText);
                console.log(estado_d_envio.estado);
            }
            var envio = new FormData();
            envio.append('nombre', nombre);
            envio.append('email', email);
            envio.append('mensaje', mensaje);
            portal.send(envio);
        }


        var formulario = document.getElementsByName("formulario")[0];
        formulario.addEventListener("submit", function(e){
            e.preventDefault();
            if(document.getElementById("mensaje").value != '')
            {
                var mensaje = document.getElementById("mensaje").value;
                var nombre = document.getElementById("nombre").value;
                var email = document.getElementById("email").value;
                sendserver(mensaje, nombre, email);
            }
        formulario.reset();
        })
    </script>
</html>